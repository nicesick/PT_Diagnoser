<!DOCTYPE html>
<html xmlns:th="http://wwww.thymeleaf.org">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>SB Admin 2 - Dashboard</title>

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet" />

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet" />
</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">
    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">
        <!-- Main Content -->
        <div id="content">
            <!-- Begin Page Content -->
            <div class="container-fluid">

                <!-- Page Heading -->
                <div class="d-sm-flex align-items-center justify-content-between mb-4">
                    <h1 class="h3 mb-0 text-gray-800">RESULT</h1>
                </div>

                <!-- Content Row -->
                <div class="row">
                    <!-- Pie Chart -->
                    <div class="col-xl-12 col-lg-12">
                        <div class="card shadow mb-4">
                            <div th:if='${"".equals(result[0].getWorkDtim())}'>
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary"><span th:text="${result[0].user_id}"></span> 님의 자가진단 결과입니다</h6>
                                </div>
                                <div class="card-body">
                                    <h6 class="m-0 font-weight-bold text-primary">아직 진단결과가 없습니다.</h6>
                                </div>
                                <div class="card-footer">

                                </div>
                            </div>
                            <div th:unless='${"".equals(result[0].getWorkDtim())}'>
                                <!-- Card Header - Dropdown -->
                                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                                    <h6 class="m-0 font-weight-bold text-primary"><span th:text="${result[0].user_id}"></span> 님의 자가진단 결과입니다</h6>
                                </div>
                                <!-- Card Body -->
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col">
                                            <div class="pt-4 pb-2">
                                                <canvas id="myPieChart"></canvas>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col font-weight-bold text-primary text-center">
                                            각 항목의 포인트를 클릭하시면 결과분석을 하실 수 있습니다.
                                        </div>
                                    </div>
                                </div>
                                <div class="card-footer">
                                    <div id="speech" class="d-none">
                                        <div class="row mb-2">
                                            <div class="col">
                                                스피치진단 점수는 <span class="font-weight-bold text-primary" th:text="${result[result.size() - 1].speechResult}"></span> 점 입니다.
                                            </div>
                                            <hr />
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                00 ~ 46
                                            </div>
                                            <div class="col">
                                                직장인 평균에 미치지 못합니다. 기초훈련부터 하나씩 훈련을 시작하셔야 합니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                47 ~ 53
                                            </div>
                                            <div class="col">
                                                직장인 평균에 해당합니다. 성공적인 스피치를 위해 한발 도약하시기 바랍니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                54 ~ 67
                                            </div>
                                            <div class="col">
                                                조금만 더 훈련하신다면 탁월한 스피치를 할 수 있는 자질이 있습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                68 ~ 84
                                            </div>
                                            <div class="col">
                                                훈련하지 않으신 분이라면 이미 스피치를 잘 하고 있습니다.
                                            </div>
                                        </div>
                                    </div>
                                    <div id="presentation" class="d-none">
                                        <div class="row mb-2">
                                            <div class="col">
                                                프레젠테이션진단 점수는 <span class="font-weight-bold text-primary" th:text="${result[result.size() - 1].presentationResult}"></span> 점 입니다.
                                            </div>
                                            <hr />
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                00 ~ 59
                                            </div>
                                            <div class="col">
                                                직장인 평균 이하입니다. 전문가를 통한 지속적인 노력이 필요합니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                60 ~ 69
                                            </div>
                                            <div class="col">
                                                직장인 평균입니다. 많은 노력으로 훈련해 나가신다면 능숙한 프레젠터가 될 수 있습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                70 ~ 79
                                            </div>
                                            <div class="col">
                                                기본적인 자질을 갖추고 계십니다만 좀 더 적극적 노력을 하신다면 탁월한 프레젠터가 되실 수 있습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                80 ~
                                            </div>
                                            <div class="col">
                                                탁월한 프레젠터 입니다. 이미 탁월한 역량을 가지고 계십니다.
                                            </div>
                                        </div>
                                    </div>
                                    <div id="unrest" class="d-none">
                                        <div class="row mb-2">
                                            <div class="col">
                                                발표불안 점수는 <span class="font-weight-bold text-primary" th:text="${result[result.size() - 1].unrestResult}"></span> 점 입니다.
                                            </div>
                                            <hr />
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                00 ~ 37
                                            </div>
                                            <div class="col">
                                                발표상황에서 불안 수준이 낮은 편으로서 그다지 불편감과 불안을 느끼지 않습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                38 ~ 84
                                            </div>
                                            <div class="col">
                                                발표상황에서 중간 정도의 불안을 경험하고 때때로 발표상황을 회피하기도 합니다. 그러나 그렇게까지 문제되지는 않습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                85 ~ 97
                                            </div>
                                            <div class="col">
                                                발표상황에서 상당한 정도로 불편감과 불안을 경험하고 있으며, 여러 발표상황들을 회피하기도 합니다. 이러한 불편감과 회피가 지속되면 전문가를 찾아 상담할 것을 권합니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                98 ~
                                            </div>
                                            <div class="col">
                                                심한 정도의 발표불안을 경험하면서, 수많은 발표상황을 회피하고 있으며, 이것이 스스로의 삶을 힘들게 하고 있습니다. 조속한 시일 내에 전문가를 통해 상담할 것을 권합니다.
                                            </div>
                                        </div>
                                    </div>
                                    <div id="evaluation" class="d-none">
                                        <div class="row mb-2">
                                            <div class="col">
                                                발표자평가 점수는 <span class="font-weight-bold text-primary" th:text="${result[result.size() - 1].evaluationResult}"></span> 점 입니다.
                                            </div>
                                            <hr />
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                00 ~ 59
                                            </div>
                                            <div class="col">
                                                직장인 평균 이하입니다. 전문가를 통한 지속적인 노력이 필요합니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                60 ~ 69
                                            </div>
                                            <div class="col">
                                                직장인 평균입니다. 많은 노력으로 훈련해 나가신다면 능숙한 프레젠터가 될 수 있습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                70 ~ 79
                                            </div>
                                            <div class="col">
                                                기본적인 자질을 갖추고 계십니다만 좀 더 적극적 노력을 하신다면 탁월한 프레젠터가 되실 수 있습니다.
                                            </div>
                                        </div>
                                        <div class="row mb-1">
                                            <div class="col-md-3 col-lg-2 font-weight-bold text-info">
                                                80 ~
                                            </div>
                                            <div class="col">
                                                탁월한 프레젠터 입니다. 이미 탁월한 역량을 가지고 계십니다.
                                            </div>
                                        </div>
                                    </div>

                                    <!--                                <h6 class="m-0 font-weight-bold text-primary d-none">Result</h6>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- End of Main Content -->
    </div>
    <!-- End of Content Wrapper -->
</div>
<!-- End of Page Wrapper -->

<!-- Bootstrap core JavaScript-->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>

<!-- Custom scripts for all pages-->
<script src="js/sb-admin-2.min.js"></script>

<!-- Page level plugins -->
<script src="vendor/chart.js/Chart.min.js"></script>

<script th:inline="javascript">
    var resultSet = /*[[${result}]]*/;
    var raderChart;

    $(document).ready(function(){
        console.log(resultSet);

        radarChart = createRadarChart(resultSet[resultSet.length - 1].speechResult
                    , resultSet[resultSet.length - 1].presentationResult
                    , resultSet[resultSet.length - 1].unrestResult
                    , resultSet[resultSet.length - 1].evaluationResult);
    });

    function createRadarChart(speechResult, presentationResult, unrestResult, evaluationResult) {
        var chart = new Chart($('#myPieChart'), {
            type    : 'radar',
            data    : {
                labels : ['스피치진단', '프레젠테이션진단', '발표불안진단', '발표자평가항목'],
                datasets : [{
                    label : '진단결과',
                    backgroundColor : 'rgba(200, 0, 0, 0.2)',
                    pointRadius : 5,
                    pointHoverRadius : 7,
                    data : [
                        speechResult,
                        presentationResult,
                        unrestResult,
                        evaluationResult
                    ]
                }]
            },
            options : {
                scale : {
                    ticks : {
                        beginAtZero : true,
                        min : 0,
                        max : 100,
                        stepSize : 20
                    },
                    pointLabels : {
                        fontSize : 15
                    }
                },

                onClick : chartClickEvent
            }
        });

        return chart;
    }

    function chartClickEvent(e, legendItem) {
        /**
         * index
         *
         * 0 : speech
         * 1 : presentation
         * 2 : unrest
         * 3 : evaluation
         */
        if (legendItem[0] != undefined) {
            var index = legendItem[0]._index;

            switch (index) {
                case 0:
                    $('#speech').removeClass('d-none');
                    $('#presentation').addClass('d-none');
                    $('#unrest').addClass('d-none');
                    $('#evaluation').addClass('d-none');

                    break;
                case 1:
                    $('#speech').addClass('d-none');
                    $('#presentation').removeClass('d-none');
                    $('#unrest').addClass('d-none');
                    $('#evaluation').addClass('d-none');

                    break;
                case 2:
                    $('#speech').addClass('d-none');
                    $('#presentation').addClass('d-none');
                    $('#unrest').removeClass('d-none');
                    $('#evaluation').addClass('d-none');

                    break;
                case 3:
                    $('#speech').addClass('d-none');
                    $('#presentation').addClass('d-none');
                    $('#unrest').addClass('d-none');
                    $('#evaluation').removeClass('d-none');

                    break;
            }
        }
    }
</script>
</body>
</html>
